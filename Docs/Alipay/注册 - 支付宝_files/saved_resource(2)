window.Smartracker=function(){function q(a){var b=a.type;if("undefined"!=typeof b)return"text"==b&&(b=d.getAttr(a,"type")||"text"),b.toUpperCase()}function r(a,b){for(var c=0,e=a.length;c<e;c++){var d=null;switch(a[c].tagName.toUpperCase()){case "A":case "AREA":d="link";break;case "IMG":"A"!==a[c].parentNode.tagName.toUpperCase()&&(d="image");break;case "INPUT":switch(q(a[c])){case "SUBMIT":case "BUTTON":case "RESET":case "IMAGE":d="button";break;case "HIDDEN":break;default:d="input"}break;case "BUTTON":d=
"button";break;case "TEXTAREA":d="input";break;case "SELECT":d="input"}b(a[c],d)}}function s(a,b){var c=k,e;a:{e=a.parentNode;var f,i;do{if(d.hasAttr(e,"id")&&(i=d.getAttr(e,"id"))){e=h(i.split("-"));break a}if(d.hasAttr(e,"class")&&(f=l(d.getAttr(e,"class")||e.className||""))){e=f;break a}}while(e=e.parentNode);e="global"}c[0]=e;switch(b){case "link":k[1]=x(a);break;case "image":var c=k,g,j,n;e=(g=d.getAttr(a,"id"))?g:(n=l(d.getAttr(a,"class")||a.className||""))||(n=t(d.getAttr(a,"src")))?n:(j=o(d.getAttr(a,
"alt")||d.getAttr(a,"title")))?j:"";c[1]=e;break;case "input":case "button":k[1]=y(a);break;default:return}g=k.join(u).replace(z,"");m.hasOwnProperty(g)&&(g=g+"T"+ ++m[g]);a.setAttribute(p,g);a.setAttribute("smartracker","on");m[g]=0;return g}function h(a){if(!a||!a.length)return"";for(var b=1,c=a.length;b<c;b++)a[b]=a[b].charAt(0).toUpperCase()+a[b].substring(1);return a.join("")}function t(a){var b=[],a=v(a),c=a.pathname.replace(/^\//,"").split("/"),d=v(i.href);d.pathname.replace(/^\//,"").split("/");
b.push(a.domainName||d.domainName);c[c.length-1]=c[c.length-1].split(".")[0]||"index";b.push.apply(b,c);return h(b)}function x(a){var b,c;if(b=d.getAttr(a,"id"))return h(b.split("-"));if(b=l(d.getAttr(a,"class")||a.className||""))return b;b=d.getAttr(a,"href")||"";!b||b.indexOf("#");if(b=t(b))switch(b.protocol){case "http:":case "https:":return b}return(c=o(d.innerText(a)))?c:"link"}function y(a){var b,c=[];if(b=d.getAttr(a,"id")||d.getAttr(a,"name")||"")return h(b.split("-"));if(b=l(d.getAttr(a,
"class")||a.className||""))return b;switch(q(a)){case "BUTTON":case "SUBMIT":case "RESET":case "IMAGE":return c.push("btn"),c.push(o(d.innerText(a))),h(c);case "HIDDEN":return"";default:return c.push("ipt"),c.push(a.id||a.name||""),h(c)}}function o(a){if(!a)return"";if(A.test(a))return a.replace(B,u);for(var b in SMARTRACKER_WORDS)if(SMARTRACKER_WORDS.hasOwnProperty(b)&&0<=a.indexOf(b))return SMARTRACKER_WORDS[b];return""}function l(a){if(!a)return"";for(var a=a.split(" "),b=0,c=a.length;b<c;b++)if(!(0===
a[b].indexOf("ui-")||0===a[b].indexOf("fn-")||0===a[b].indexOf("sl-")))return h(a[b].split("-"));return""}function v(a){var b=document.createElement("a");b.setAttribute("href",a);var a=b.pathname.split("/").slice(-1).join(""),c=a.split(".").slice(0,1).join(""),d=b.hostname,f=d.split(".").slice(0,1).join("");return{protocol:b.protocol,domain:d,domainName:f,path:b.pathname,pathname:b.pathname,file:a,fileName:c}}var j=new Date,d={getAttr:function(a,b){if(!a||"undefined"===typeof a.getAttribute)return null;
var c=a.getAttribute(b,2);c&&"string"===typeof c&&(c=c.replace(/\r|\n|\t|\f|\v/g,""));return c},hasAttr:function(a,b){if(!a||1!=a.nodeType)return!1;if(a.hasAttribute)return a.hasAttribute(b);if("class"==b)return""!==a.className;if("style"==b)return""!==a.style.cssText;var c=d.getAttr(a,b);return null==c?!1:"function"==typeof c?0==c.toString().indexOf("function "+b+"()"):!0},innerText:function(a){return a.innerText||a.textContent||""}},i=location,f=i.hostname,p="seed",u="-",A=/^[a-zA-Z][a-zA-Z0-9_\s-]*$/,
B=/\s+/g,m={},C="file:"==i.protocol||"#debug"==i.hash||!1,D=document.getElementsByTagName("*");"undefined"==typeof window.SMARTRACKER_WORDS&&(window.SMARTRACKER_WORDS={});"alipay.com"===f||".alipay.com"===f.substr(f.length-11)||".sit.alipay.net"===f.substr(f.length-15)||f.substr(f.length-18);var w=[];r(D,function(a,b){var c;d.hasAttr(a,p)&&(c=d.getAttr(a,p))?c&&(m[c]=0):b&&w.push(a)});var k=["",""],z=/[\\\.~!@#\$%\^&:;,\/\+\(\)\[\]\{\}]/g;r(w,s);C&&(j=new Date-j+"ms",window.status=j,window.console&&
console.log&&console.log("Speed:",j));return{get:function(a){return s(a)}}}();